<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="color-scheme" content="light dark">

    <title>Liahona</title>
    <meta name="apple-mobile-web-app-title" content="Liahona">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#020617">

    <link rel="icon" type="image/svg+xml" href="./icons/icon.svg">
    <link rel="manifest" href="./manifest.webmanifest">
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <canvas id="particle-canvas"></canvas>

    <div class="top-bar">
        <div class="header-title" data-i18n="app_title">Liahona</div>
        <button id="settings-button" class="settings-button" type="button" aria-label="Einstellungen">
            <svg viewBox="0 0 24 24" aria-hidden="true">
                <path fill="currentColor" d="M12 15.5a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm8.64-3.48a7.99 7.99 0 0 0 .04-.52c0-.18-.01-.35-.04-.52l2.02-1.58a.5.5 0 0 0 .12-.64l-1.91-3.3a.5.5 0 0 0-.61-.22l-2.38.96a6.94 6.94 0 0 0-1.05-.61l-.36-2.54A.5.5 0 0 0 15.92 3h-3.84a.5.5 0 0 0-.5.42l-.36 2.54c-.37.17-.72.37-1.05.61l-2.38-.96a.5.5 0 0 0-.61.22L5.27 9.13a.5.5 0 0 0 .12.64l2.02 1.58c-.03.17-.04.34-.04.52 0 .18.01.35.04.52L5.39 13.9a.5.5 0 0 0-.12.64l1.91 3.3c.13.23.4.32.61.22l2.38-.96c.33.24.68.44 1.05.61l.36 2.54c.04.25.25.42.5.42h3.84c.25 0 .46-.17.5-.42l.36-2.54c.37-.17.72-.37 1.05-.61l2.38.96c.21.1.48.01.61-.22l1.91-3.3a.5.5 0 0 0-.12-.64l-2.02-1.58Z"/>
            </svg>
            <span class="sr-only" data-i18n="settings_title">Einstellungen</span>
        </button>
    </div>

    <div class="liahona-wrapper">
        <div class="outer-ring"></div>
        <div id="orb" class="orb-core" role="button" aria-label="Liahona Kugel">
            <svg id="fingerprint" class="fingerprint" viewBox="0 0 64 64" aria-hidden="true">
                <path fill="currentColor" d="M32 6c-8.822 0-16 7.178-16 16v8c0 1.105.895 2 2 2s2-.895 2-2v-8c0-6.617 5.383-12 12-12s12 5.383 12 12v10c0 8.836-7.164 16-16 16-3.686 0-7.07-1.24-9.79-3.32a2 2 0 1 0-2.42 3.16A19.9 19.9 0 0 0 32 56c11.046 0 20-8.954 20-20V22c0-8.822-7.178-16-16-16Z"/>
                <path fill="currentColor" d="M32 14c-4.411 0-8 3.589-8 8v10a2 2 0 1 0 4 0V22c0-2.206 1.794-4 4-4s4 1.794 4 4v12c0 4.411-3.589 8-8 8-1.882 0-3.61-.654-4.99-1.742a2 2 0 1 0-2.44 3.164A11.92 11.92 0 0 0 32 46c6.617 0 12-5.383 12-12V22c0-4.411-3.589-8-8-8Z"/>
                <path fill="currentColor" d="M32 22c-1.103 0-2 .897-2 2v8a2 2 0 1 0 4 0v-8c0-1.103-.897-2-2-2Z"/>
            </svg>
        </div>
    </div>

    <div id="status-text" class="status-text" data-i18n="status_focus">Fokussieren</div>

    <div id="result-overlay" class="result-overlay" aria-live="polite">
        <div id="r-book" class="book-display"></div>
        <div id="r-ref" class="ref-display"></div>
        <button id="btn-open" class="btn-gold" type="button" data-i18n="btn_read">Lesen</button>
        <div id="btn-reset" class="btn-reset" data-i18n="btn_reset">Neue Stelle ziehen</div>
    </div>

    <div id="settings-overlay" class="settings-overlay" role="dialog" aria-modal="true" aria-labelledby="settings-title" aria-hidden="true">
        <div class="settings-panel">
            <div class="settings-header">
                <div id="settings-title" class="settings-heading" data-i18n="settings_title">Einstellungen</div>
                <button id="settings-close" class="icon-button" type="button" aria-label="Schließen">×</button>
            </div>

            <div class="settings-section">
                <div class="section-title" data-i18n="section_ui">App Sprache</div>
                <div class="option-row">
                    <label class="option">
                        <input type="radio" name="ui-language" value="de">
                        <span data-i18n="language_de">Deutsch</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="ui-language" value="en">
                        <span data-i18n="language_en">English</span>
                    </label>
                </div>
            </div>

            <div class="settings-section">
                <div class="section-title" data-i18n="section_content">Inhalte wählen</div>
                <div class="option-grid">
                    <label class="option">
                        <input type="checkbox" id="book-bom" value="bom">
                        <span data-i18n="book_bom">Buch Mormon</span>
                    </label>
                    <label class="option">
                        <input type="checkbox" id="book-ot" value="ot">
                        <span data-i18n="book_ot">Altes Testament</span>
                    </label>
                    <label class="option">
                        <input type="checkbox" id="book-nt" value="nt">
                        <span data-i18n="book_nt">Neues Testament</span>
                    </label>
                </div>
            </div>

            <div class="settings-section">
                <div class="section-title" data-i18n="section_languages">Inhaltssprache</div>
                <div class="option-row">
                    <label class="option">
                        <input type="checkbox" id="language-de" value="de">
                        <span data-i18n="language_de">Deutsch</span>
                    </label>
                    <label class="option">
                        <input type="checkbox" id="language-en" value="en">
                        <span data-i18n="language_en">Englisch</span>
                    </label>
                </div>
            </div>

            <div class="settings-actions">
                <button id="btn-save-settings" class="btn-gold" type="button" data-i18n="btn_save">Speichern</button>
            </div>
        </div>
    </div>

    <div class="footer-space"></div>

    <script type="module" src="./app.js"></script>
</body>
</html>
